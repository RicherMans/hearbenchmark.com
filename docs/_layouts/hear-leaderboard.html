---
layout: hear-layout
banner: false
---

<!-- Regular Datatables -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.11.1/css/jquery.dataTables.min.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>

    //var csv is the CSV file with headers
    function csvJSON(csv){

      var lines=csv.split("\n");
      var result = [];

      // Doesn't work if there are commas in the data
      var headers=lines[0].split(",");

      for(var i=1;i<lines.length;i++){

          var obj = [];
          var currentline=lines[i].split(",");

          for(var j=0;j<headers.length;j++){
              obj.push(currentline[j]);
          }

          result.push(obj);
      }

      data = {
          headers: headers,
          data: result
      }

      return data; //JSON
    }

    const leaderboard_url = '{{ "/assets/leaderboard.csv" | prepend: site.baseurl | prepend: site.url }}';
    let leaderboard_data = {};
    $(document).ready(function() {
        console.log(leaderboard_url);
        $.get(leaderboard_url, function(data) {
            leaderboard_data = csvJSON(data);

            let columns = [];
            for (let i = 0; i < leaderboard_data.headers.length; i++)
            {
                columns.push({title: leaderboard_data.headers[i]});
            }

            console.log(columns);
            $("#example").DataTable({
                data: leaderboard_data.data,
                columns: columns
            });

        });

    });
</script>

<table id="example" class="display" width="100%"></table>

<script src="https://cdn.datatables.net/1.11.1/js/jquery.dataTables.min.js"></script>

<!-- Bootstrap Datatables (Uncomment to try this style and comment out imports above)
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.11.1/css/dataTables.bootstrap4.min.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.datatables.net/1.11.1/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.11.1/js/dataTables.bootstrap4.min.js"></script>
-->

<!-- Custom CSS & JS -->
<link rel="stylesheet" href="{{ "/assets/hear2021.css" | prepend: site.baseurl | prepend: site.url }}">
<link rel="stylesheet" href="{{ "/assets/hear-leaderboard.css" | prepend: site.baseurl | prepend: site.url }}">
<script src="{{ "/assets/js/hear-results.js" | prepend: site.baseurl | prepend: site.url }}"></script>
